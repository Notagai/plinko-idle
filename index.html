<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plinko Idle</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.jsdelivr.net/npm/phaser@3.60.0/dist/phaser.min.js"></script>
</head>

<body>

    <div id="ui">
        <div id="score">Score: 0</div>
        <div id="multiplier">Multiplier: x1.0</div>
        <div id="critChance">Crit Chance Bonus: 0%</div>
        <div id="prestigeContainer">
            <button id="prestigeBtn" style="display:none">Prestige</button>
            <div id="prestigeBar">
                <div id="prestigeFill"></div>
            </div>
        </div>
    </div>

    <canvas id="game"></canvas>

    <div id="upgradeMenu" class="hide">
        <div class="tabs">
            <button class="tab active" data-tab="regular">Upgrades</button>
            <button class="tab" data-tab="prestige">Prestige Upgrades</button>
            <button class="tab" data-tab="stats">Stats</button>
            <button class="tab" data-tab="controls">Game Controls</button>
        </div>
        <div class="tab-content">
            <div id="regular-tab" class="tab-pane active">
                <h2>Upgrades</h2>
                <button id="addBallBtn">
                    Add Ball
                    <span class="tooltip">
                        Adds another ball to the game. The more the merrier!
                        <hr>
                        Costs: <span id="addBallCost">2000</span> points.
                    </span>
                </button>
            </div>
            <div id="prestige-tab" class="tab-pane">
                <h2 id="pUpTitle">Prestige Upgrades</h2>
                <button id="slotUpgradeBtn">
                    Double Slots
                    <span class="tooltip">
                        Doubles the points of all slots for higher scores.
                        <hr>
                        Costs: <span id="slotUpgradeCost">1</span> multiplier.
                    </span>
                </button>
                <button id="critUpgradeBtn">
                    Upgrade Critical Hit Chance
                    <span class="tooltip">
                        Increases critical hit chance by 5%.
                        <hr>
                        Costs: <span id="critUpgradeCost">0.5</span> multiplier.
                    </span>
                </button>
            </div>
            <div id="stats-tab" class="tab-pane">
                <h2>Stats</h2>
                <div id="statsList"></div>
                <h2>Achievements</h2>
                <div id="achievementsList"></div>
            </div>
            <div id="controls-tab" class="tab-pane">
                <h2>Game Controls</h2>
                <button id="manualSaveBtn">Save Game</button>
                <button id="clearSaveBtn">Clear Save</button>
                <button id="exportImportSaveBtn">Export/Import Save</button>
            </div>
        </div>
    </div>

    <script src="achievements.js"></script>
    <script src="main.js"></script>

    <div id="savePopup" role="status" aria-live="polite">
        <span class="msg">Game saved</span>
        <button class="close" aria-label="Close">Ã—</button>
    </div>

    <div id="confirmPopup" role="dialog" aria-labelledby="confirmMsg">
        <span id="confirmMsg">Are you sure you want to clear your save? This cannot be undone.</span>
        <div>
            <button id="confirmYes">Yes</button>
            <button id="confirmNo">No</button>
        </div>
    </div>

    <div id="exportImportPopup" role="dialog">
        <h3>Export/Import Save</h3>
        <textarea id="saveDataTextarea" placeholder="Your save data will appear here for export, or paste here for import"></textarea>
        <div>
            <button id="doExportBtn">Export</button>
            <button id="doImportBtn">Import</button>
            <button id="closeExportImport">Close</button>
        </div>
    </div>

</body>

</html>